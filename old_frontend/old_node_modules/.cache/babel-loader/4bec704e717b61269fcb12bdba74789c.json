{"ast":null,"code":"import _slicedToArray from\"/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{useHistory}from'react-router-dom';import{FirebaseContext}from'../context/firebase';import{HeaderContainer}from'../containers/header';import{FooterContainer}from'../containers/footer';import{Form}from'../components';import*as ROUTES from'../constants/routes';export default function Signin(){var history=useHistory();var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),emailAddress=_useState2[0],setEmailAddress=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var isInvalid=password===''||emailAddress==='';var handleSignIn=function handleSignIn(event){event.preventDefault();// firebase work here!\nfirebase.auth().signInWithEmailAndPassword(emailAddress,password).then(function(){// push to the browse page\nhistory.push(ROUTES.BROWSE);}).catch(function(error){setEmailAddress('');setPassword('');setError(error.message);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HeaderContainer,null,\"Hello from the sign in!\",/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Title,null,\"Sign In\"),error&&/*#__PURE__*/React.createElement(Form.Error,{\"data-testid\":\"test\"},error),/*#__PURE__*/React.createElement(Form.Base,{onSubmit:handleSignIn,method:\"POST\"},/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"Email address\",value:emailAddress,onChange:function onChange(_ref){var target=_ref.target;return setEmailAddress(target.value);}}),/*#__PURE__*/React.createElement(Form.Input,{type:\"Password\",autoComplete:\"off\",placeholder:\"Password\",value:password,onChange:function onChange(_ref2){var target=_ref2.target;return setPassword(target.value);}}),/*#__PURE__*/React.createElement(Form.Submit,{disabled:isInvalid,type:\"submit\"},\"Signin\")),/*#__PURE__*/React.createElement(Form.Text,null,\"New to Netfix? \",/*#__PURE__*/React.createElement(Form.Link,{to:\"/signup\"},\"Sign up now \")),/*#__PURE__*/React.createElement(Form.TextSmall,null,\"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn More.\"))),/*#__PURE__*/React.createElement(FooterContainer,null));}","map":{"version":3,"sources":["/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/src/pages/signin.js"],"names":["React","useState","useContext","useHistory","FirebaseContext","HeaderContainer","FooterContainer","Form","ROUTES","Signin","history","firebase","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignIn","event","preventDefault","auth","signInWithEmailAndPassword","then","push","BROWSE","catch","message","target","value"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,KAA0C,OAA1C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,eAAT,KAAgC,qBAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,qBAAxB,CAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC7B,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,gBAAqBD,UAAU,CAACE,eAAD,CAA/B,CAAQO,QAAR,aAAQA,QAAR,CACA,cAAwCV,QAAQ,CAAC,EAAD,CAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eACA,eAAgCZ,QAAQ,CAAC,EAAD,CAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACA,eAA0Bd,QAAQ,CAAC,EAAD,CAAlC,yCAAOe,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,SAAS,CAAGJ,QAAQ,GAAK,EAAb,EAAmBF,YAAY,GAAK,EAAtD,CACA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GAEA;AACAV,QAAQ,CACHW,IADL,GAEKC,0BAFL,CAEgCX,YAFhC,CAE8CE,QAF9C,EAGKU,IAHL,CAGU,UAAM,CACR;AACAd,OAAO,CAACe,IAAR,CAAajB,MAAM,CAACkB,MAApB,EACH,CANL,EAOOC,KAPP,CAOa,SAACX,KAAD,CAAW,CAChBH,eAAe,CAAC,EAAD,CAAf,CACAE,WAAW,CAAC,EAAD,CAAX,CACAE,QAAQ,CAACD,KAAK,CAACY,OAAP,CAAR,CACH,CAXL,EAYH,CAhBD,CAiBA,mBACA,qDACI,oBAAC,eAAD,6CACI,oBAAC,IAAD,mBACI,oBAAC,IAAD,CAAM,KAAN,gBADJ,CAEKZ,KAAK,eAAI,oBAAC,IAAD,CAAM,KAAN,EAAY,cAAY,MAAxB,EAAgCA,KAAhC,CAFd,cAII,oBAAC,IAAD,CAAM,IAAN,EAAW,QAAQ,CAAEG,YAArB,CAAmC,MAAM,CAAC,MAA1C,eACI,oBAAC,IAAD,CAAM,KAAN,EACI,WAAW,CAAC,eADhB,CAEI,KAAK,CAAEP,YAFX,CAGI,QAAQ,CAAE,2BAAGiB,CAAAA,MAAH,MAAGA,MAAH,OAAgBhB,CAAAA,eAAe,CAACgB,MAAM,CAACC,KAAR,CAA/B,EAHd,EADJ,cAMI,oBAAC,IAAD,CAAM,KAAN,EACI,IAAI,CAAC,UADT,CAEI,YAAY,CAAC,KAFjB,CAGI,WAAW,CAAC,UAHhB,CAII,KAAK,CAAEhB,QAJX,CAKI,QAAQ,CAAE,4BAAGe,CAAAA,MAAH,OAAGA,MAAH,OAAgBd,CAAAA,WAAW,CAACc,MAAM,CAACC,KAAR,CAA3B,EALd,EANJ,cAaI,oBAAC,IAAD,CAAM,MAAN,EAAa,QAAQ,CAAEZ,SAAvB,CAAkC,IAAI,CAAC,QAAvC,WAbJ,CAJJ,cAsBI,oBAAC,IAAD,CAAM,IAAN,qCACmB,oBAAC,IAAD,CAAM,IAAN,EAAW,EAAE,CAAC,SAAd,iBADnB,CAtBJ,cAyBI,oBAAC,IAAD,CAAM,SAAN,2FAzBJ,CADJ,CADJ,cAgCI,oBAAC,eAAD,MAhCJ,CADA,CAoCH","sourcesContent":["import React, {useState, useContext} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FirebaseContext } from '../context/firebase'\nimport { HeaderContainer } from '../containers/header';\nimport { FooterContainer } from '../containers/footer';\nimport { Form } from '../components';\nimport * as ROUTES from '../constants/routes';\n\nexport default function Signin() {\n    const history = useHistory();\n    const { firebase } = useContext(FirebaseContext);\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    const isInvalid = password === '' || emailAddress === '';\n    const handleSignIn = (event) => {\n        event.preventDefault();\n\n        // firebase work here!\n        firebase\n            .auth()\n            .signInWithEmailAndPassword(emailAddress, password)\n            .then(() => {\n                // push to the browse page\n                history.push(ROUTES.BROWSE);\n            })\n              .catch((error) => {\n                setEmailAddress('');\n                setPassword('');\n                setError(error.message);\n            })\n    };\n    return  (\n    <>\n        <HeaderContainer>Hello from the sign in! \n            <Form>\n                <Form.Title>Sign In</Form.Title>\n                {error && <Form.Error data-testid=\"test\">{error}</Form.Error>}\n\n                <Form.Base onSubmit={handleSignIn} method=\"POST\">\n                    <Form.Input\n                        placeholder=\"Email address\"\n                        value={emailAddress}\n                        onChange={({ target }) => setEmailAddress(target.value)}\n                    />\n                    <Form.Input\n                        type=\"Password\"\n                        autoComplete=\"off\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={({ target }) => setPassword(target.value)}\n                    />\n                    <Form.Submit disabled={isInvalid} type=\"submit\">\n                        Signin \n                    </Form.Submit>\n                </Form.Base>\n\n                <Form.Text>\n                    New to Netfix? <Form.Link to=\"/signup\">Sign up now </Form.Link>\n                </Form.Text>\n                <Form.TextSmall>\n                    This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn More.\n                </Form.TextSmall>\n            </Form>\n        </HeaderContainer>\n        <FooterContainer />\n    </>\n    );\n}"]},"metadata":{},"sourceType":"module"}