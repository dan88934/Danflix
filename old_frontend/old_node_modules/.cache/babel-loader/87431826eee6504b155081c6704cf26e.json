{"ast":null,"code":"import _slicedToArray from\"/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import Fuse from'fuse.js';import{Card,Header,Loading,Player}from'../components';import*as ROUTES from'../constants/routes';import logo from\"../logo.svg\";import{FirebaseContext}from'../context/firebase';import{SelectProfileContainer}from'./profiles';import{FooterContainer}from'./footer';export function BrowseContainer(_ref){var slides=_ref.slides;var _useState=useState('series'),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),slideRows=_useState10[0],setSlideRows=_useState10[1];var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var user=firebase.auth().currentUser||{};useEffect(function(){//We use Fuse for the live search function\nsetTimeout(function(){setLoading(false);},3000);},[profile.displayName]);useEffect(function(){setSlideRows(slides[category]);},[slides,category]);useEffect(function(){var fuse=new Fuse(slideRows,{keys:['data.description','data.title','data.genre']});var results=fuse.search(searchTerm).map(function(_ref2){var item=_ref2.item;return item;});if(slideRows.length>0&&searchTerm.length>3&&results.length>0){setSlideRows(results);}else{setSlideRows(slides[category]);}},[searchTerm]);return profile.displayName?/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(Loading,{src:user.photoURL}):/*#__PURE__*/React.createElement(Loading.ReleaseBody,null),/*#__PURE__*/React.createElement(Header,{src:\"joker1\",dontShowOnSmallViewPort:true},/*#__PURE__*/React.createElement(Header.Frame,null,/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Logo,{to:ROUTES.HOME,src:logo,alt:\"Netflix\"}),/*#__PURE__*/React.createElement(Header.TextLink,{active:category==='series'?'true':'false',onClick:function onClick(){return setCategory('series');}},\"Series\"),/*#__PURE__*/React.createElement(Header.TextLink,{active:category==='films'?'true':'false',onClick:function onClick(){return setCategory('films');}},\"Films\")),/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Search,{searchTerm:searchTerm,setSearchTerm:setSearchTerm}),/*#__PURE__*/React.createElement(Header.Profile,null,/*#__PURE__*/React.createElement(Header.Picture,{src:user.photoURL}),/*#__PURE__*/React.createElement(Header.Dropdown,null,/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Picture,{src:user.photoURL}),/*#__PURE__*/React.createElement(Header.TextLink,null,user.displayName)),/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.TextLink,{onClick:function onClick(){return firebase.auth().signOut();}},\"Sign out\")))))),/*#__PURE__*/React.createElement(Header.Feature,null,/*#__PURE__*/React.createElement(Header.FeatureCallOut,null,\"Watch Joker Now\"),/*#__PURE__*/React.createElement(Header.Text,null,\"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him.\"),/*#__PURE__*/React.createElement(Header.PlayButton,null,\"Play\"))),/*#__PURE__*/React.createElement(Card.Group,null,slideRows.map(function(slideItem){return/*#__PURE__*/React.createElement(Card,{key:\"\".concat(category,\"-\").concat(slideItem.title.toLowerCase())},/*#__PURE__*/React.createElement(Card.Title,null,slideItem.title),/*#__PURE__*/React.createElement(Card.Entities,null,slideItem.data.map(function(item){return/*#__PURE__*/React.createElement(Card.Item,{key:item.docId,item:item},/*#__PURE__*/React.createElement(Card.Image,{src:\"/images/\".concat(category,\"/\").concat(item.genre,\"/\").concat(item.slug,\"/small.jpg\")}),/*#__PURE__*/React.createElement(Card.Meta,null,/*#__PURE__*/React.createElement(Card.SubTitle,null,item.title),/*#__PURE__*/React.createElement(Card.Text,null,item.description)));})),/*#__PURE__*/React.createElement(Card.Feature,{category:category},/*#__PURE__*/React.createElement(Player,null,/*#__PURE__*/React.createElement(Player.Button,null),/*#__PURE__*/React.createElement(Player.Video,{src:\"/videos/bunny.mp4\"})),/*#__PURE__*/React.createElement(\"p\",null,\"player\")));})),/*#__PURE__*/React.createElement(FooterContainer,null)):/*#__PURE__*/React.createElement(SelectProfileContainer,{user:user,setProfile:setProfile});}//Above - each item will have a file-name var. This var will be inserted where bunny is. It will be the same name as the video file","map":{"version":3,"sources":["/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/src/containers/browse.js"],"names":["React","useState","useEffect","useContext","Fuse","Card","Header","Loading","Player","ROUTES","FirebaseContext","SelectProfileContainer","FooterContainer","BrowseContainer","slides","category","setCategory","profile","setProfile","loading","setLoading","searchTerm","setSearchTerm","slideRows","setSlideRows","firebase","user","auth","currentUser","setTimeout","displayName","fuse","keys","results","search","map","item","length","photoURL","HOME","logo","signOut","slideItem","title","toLowerCase","data","docId","genre","slug","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Fuse from 'fuse.js';\nimport { Card, Header, Loading, Player } from '../components';\nimport * as ROUTES from '../constants/routes';\nimport logo from '../logo.svg';\nimport { FirebaseContext } from '../context/firebase';\nimport { SelectProfileContainer } from './profiles';\nimport { FooterContainer } from './footer';\n\nexport function BrowseContainer({ slides }) {\n  const [category, setCategory] = useState('series');\n  const [profile, setProfile] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [slideRows, setSlideRows] = useState([]);\n\n  const { firebase } = useContext(FirebaseContext);\n  const user = firebase.auth().currentUser || {};\n\n  useEffect(() => { //We use Fuse for the live search function\n    setTimeout(() => {\n      setLoading(false);\n    }, 3000);\n  }, [profile.displayName]);\n\n  useEffect(() => {\n    setSlideRows(slides[category]);\n  }, [slides, category]);\n\n  useEffect(() => {\n    const fuse = new Fuse(slideRows, { keys: ['data.description', 'data.title', 'data.genre'] });\n    const results = fuse.search(searchTerm).map(({ item }) => item);\n\n    if (slideRows.length > 0 && searchTerm.length > 3 && results.length > 0) {\n      setSlideRows(results);\n    } else {\n      setSlideRows(slides[category]);\n    }\n  }, [searchTerm]);\n\n  return profile.displayName ? (\n    <>\n      {loading ? <Loading src={user.photoURL} /> : <Loading.ReleaseBody />}\n\n      <Header src=\"joker1\" dontShowOnSmallViewPort>\n        <Header.Frame>\n          <Header.Group>\n            <Header.Logo to={ROUTES.HOME} src={logo} alt=\"Netflix\" />\n            <Header.TextLink active={category === 'series' ? 'true' : 'false'} onClick={() => setCategory('series')}>\n              Series\n            </Header.TextLink>\n            <Header.TextLink active={category === 'films' ? 'true' : 'false'} onClick={() => setCategory('films')}>\n              Films\n            </Header.TextLink>\n          </Header.Group>\n          <Header.Group>\n            <Header.Search searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n            <Header.Profile>\n              <Header.Picture src={user.photoURL} />\n              <Header.Dropdown>\n                <Header.Group>\n                  <Header.Picture src={user.photoURL} />\n                  <Header.TextLink>{user.displayName}</Header.TextLink>\n                </Header.Group>\n                <Header.Group>\n                  <Header.TextLink onClick={() => firebase.auth().signOut()}>Sign out</Header.TextLink>\n                </Header.Group>\n              </Header.Dropdown>\n            </Header.Profile>\n          </Header.Group>\n        </Header.Frame>\n\n        <Header.Feature>\n          <Header.FeatureCallOut>Watch Joker Now</Header.FeatureCallOut>\n          <Header.Text>\n            Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham\n            City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a\n            futile attempt to feel like he's part of the world around him.\n          </Header.Text>\n          <Header.PlayButton>Play</Header.PlayButton>\n        </Header.Feature>\n      </Header>\n\n      <Card.Group>\n        {slideRows.map((slideItem) => (\n          <Card key={`${category}-${slideItem.title.toLowerCase()}`}>\n            <Card.Title>{slideItem.title}</Card.Title>\n            <Card.Entities>\n              {slideItem.data.map((item) => (\n                <Card.Item key={item.docId} item={item}>\n                  <Card.Image src={`/images/${category}/${item.genre}/${item.slug}/small.jpg`} />\n                  <Card.Meta>\n                    <Card.SubTitle>{item.title}</Card.SubTitle>\n                    <Card.Text>{item.description}</Card.Text>\n                  </Card.Meta>\n                </Card.Item>\n              ))}\n            </Card.Entities>\n            <Card.Feature category={category}>\n              <Player>\n                <Player.Button />\n                <Player.Video src=\"/videos/bunny.mp4\" /> \n              </Player>\n              <p>player</p>\n            </Card.Feature>\n          </Card>\n        ))}\n      </Card.Group>\n      <FooterContainer />\n    </>\n  ) : (\n    <SelectProfileContainer user={user} setProfile={setProfile} />\n  );\n}\n\n//Above - each item will have a file-name var. This var will be inserted where bunny is. It will be the same name as the video file"]},"metadata":{},"sourceType":"module"}