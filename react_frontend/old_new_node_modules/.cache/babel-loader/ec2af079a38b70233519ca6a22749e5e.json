{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useState, useContext } from 'react';\nimport { FirebaseContext } from '../context/firebase';\nexport default function useContent(target) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      content = _useState2[0],\n      setContent = _useState2[1];\n\n  var _useContext = useContext(FirebaseContext),\n      firebase = _useContext.firebase;\n\n  useEffect(function () {\n    firebase.firestore().collection(target).get().then(function (snapshot) {\n      var allContent = snapshot.docs.map(function (contentObj) {\n        return _objectSpread(_objectSpread({}, contentObj.data()), {}, {\n          docId: contentObj.id\n        });\n      });\n      setContent(allContent);\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n  }, []);\n  return _defineProperty({}, target, content);\n}","map":{"version":3,"sources":["/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/src/hooks/use-content.js"],"names":["useEffect","useState","useContext","FirebaseContext","useContent","target","content","setContent","firebase","firestore","collection","get","then","snapshot","allContent","docs","map","contentObj","data","docId","id","catch","error","console","log","message"],"mappings":";;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,eAAT,QAAgC,qBAAhC;AAEA,eAAe,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AACvC,kBAA8BJ,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOK,OAAP;AAAA,MAAgBC,UAAhB;;AACA,oBAAqBL,UAAU,CAACC,eAAD,CAA/B;AAAA,MAAQK,QAAR,eAAQA,QAAR;;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACZQ,IAAAA,QAAQ,CACHC,SADL,GAEKC,UAFL,CAEgBL,MAFhB,EAGKM,GAHL,GAIKC,IAJL,CAIU,UAACC,QAAD,EAAc;AAChB,UAAMC,UAAU,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,UAACC,UAAD;AAAA,+CAC7BA,UAAU,CAACC,IAAX,EAD6B;AAEjCC,UAAAA,KAAK,EAAEF,UAAU,CAACG;AAFe;AAAA,OAAlB,CAAnB;AAKJb,MAAAA,UAAU,CAACO,UAAD,CAAV;AACC,KAXL,EAYKO,KAZL,CAYW,UAACC,KAAD,EAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACH,KAdL;AAeH,GAhBQ,EAgBN,EAhBM,CAAT;AAiBA,6BAAUpB,MAAV,EAAmBC,OAAnB;AACH","sourcesContent":["import { useEffect, useState, useContext } from 'react';\nimport { FirebaseContext } from '../context/firebase';\n\nexport default function useContent(target) {\n    const [content, setContent] = useState([]);\n    const { firebase } = useContext(FirebaseContext)\n\n    useEffect(() => {\n        firebase\n            .firestore()\n            .collection(target)\n            .get()\n            .then((snapshot) => {\n                const allContent = snapshot.docs.map((contentObj) => ({\n                    ... contentObj.data(),\n                    docId: contentObj.id,\n            }));\n\n            setContent(allContent)\n            })\n            .catch((error) => {\n                console.log(error.message);\n            })\n    }, []);\n    return { [target]: content };\n}"]},"metadata":{},"sourceType":"module"}