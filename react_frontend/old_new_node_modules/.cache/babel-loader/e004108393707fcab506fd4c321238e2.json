{"ast":null,"code":"import _slicedToArray from\"/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{useHistory}from'react-router-dom';import{FirebaseContext}from'../context/firebase';import{Form}from'../components';import{HeaderContainer}from'../containers/header';import{FooterContainer}from'../containers/footer';import*as ROUTES from'../constants/routes';export default function SignUp(){var history=useHistory();var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailAddress=_useState4[0],setEmailAddress=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var isInvalid=firstName===''||password===''||emailAddress==='';var handleSignup=function handleSignup(event){event.preventDefault();return firebase.auth().createUserWithEmailAndPassword(emailAddress,password).then(function(result){return result.user.updateProfile({displayName:firstName,photoURL:Math.floor(Math.random()*5)+1}).then(function(){history.push(ROUTES.BROWSE);});}).catch(function(error){setFirstName('');setEmailAddress('');setPassword('');setError(error.message);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HeaderContainer,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Title,null,\"Sign Up\"),error&&/*#__PURE__*/React.createElement(Form.Error,null,error),/*#__PURE__*/React.createElement(Form.Base,{onSubmit:handleSignup,method:\"POST\"},/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"First name\",value:firstName,onChange:function onChange(_ref){var target=_ref.target;return setFirstName(target.value);}}),/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"Email address\",value:emailAddress,onChange:function onChange(_ref2){var target=_ref2.target;return setEmailAddress(target.value);}}),/*#__PURE__*/React.createElement(Form.Input,{type:\"password\",value:password,autoComplete:\"off\",placeholder:\"Password\",onChange:function onChange(_ref3){var target=_ref3.target;return setPassword(target.value);}}),/*#__PURE__*/React.createElement(Form.Submit,{disabled:isInvalid,type:\"submit\",\"data-testid\":\"sign-up\"},\"Sign Up\")),/*#__PURE__*/React.createElement(Form.Text,null,\"Already a user? \",/*#__PURE__*/React.createElement(Form.Link,{to:\"/signin\"},\"Sign in now.\")),/*#__PURE__*/React.createElement(Form.TextSmall,null,\"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more.\"))),/*#__PURE__*/React.createElement(FooterContainer,null));}","map":{"version":3,"sources":["/Users/Daniel/Dropbox/Documents/Projects/Danflix/react_frontend/src/pages/signup.js"],"names":["React","useState","useContext","useHistory","FirebaseContext","Form","HeaderContainer","FooterContainer","ROUTES","SignUp","history","firebase","firstName","setFirstName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignup","event","preventDefault","auth","createUserWithEmailAndPassword","then","result","user","updateProfile","displayName","photoURL","Math","floor","random","push","BROWSE","catch","message","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FirebaseContext } from '../context/firebase';\nimport { Form } from '../components';\nimport { HeaderContainer } from '../containers/header';\nimport { FooterContainer } from '../containers/footer';\nimport * as ROUTES from '../constants/routes';\n\nexport default function SignUp() {\n  const history = useHistory();\n  const { firebase } = useContext(FirebaseContext);\n\n  const [firstName, setFirstName] = useState('');\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const isInvalid = firstName === '' || password === '' || emailAddress === '';\n\n  const handleSignup = (event) => {\n    event.preventDefault();\n\n    return firebase\n      .auth()\n      .createUserWithEmailAndPassword(emailAddress, password)\n      .then((result) =>\n        result.user\n          .updateProfile({\n            displayName: firstName,\n            photoURL: Math.floor(Math.random() * 5) + 1,\n          })\n          .then(() => {\n            history.push(ROUTES.BROWSE);\n          })\n      )\n      .catch((error) => {\n        setFirstName('');\n        setEmailAddress('');\n        setPassword('');\n        setError(error.message);\n      });\n  };\n\n  return (\n    <>\n      <HeaderContainer>\n        <Form>\n          <Form.Title>Sign Up</Form.Title>\n          {error && <Form.Error>{error}</Form.Error>}\n\n          <Form.Base onSubmit={handleSignup} method=\"POST\">\n            <Form.Input\n              placeholder=\"First name\"\n              value={firstName}\n              onChange={({ target }) => setFirstName(target.value)}\n            />\n            <Form.Input\n              placeholder=\"Email address\"\n              value={emailAddress}\n              onChange={({ target }) => setEmailAddress(target.value)}\n            />\n            <Form.Input\n              type=\"password\"\n              value={password}\n              autoComplete=\"off\"\n              placeholder=\"Password\"\n              onChange={({ target }) => setPassword(target.value)}\n            />\n            <Form.Submit disabled={isInvalid} type=\"submit\" data-testid=\"sign-up\">\n              Sign Up\n            </Form.Submit>\n          </Form.Base>\n\n          <Form.Text>\n            Already a user? <Form.Link to=\"/signin\">Sign in now.</Form.Link>\n          </Form.Text>\n          <Form.TextSmall>\n            This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more.\n          </Form.TextSmall>\n        </Form>\n      </HeaderContainer>\n      <FooterContainer />\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}